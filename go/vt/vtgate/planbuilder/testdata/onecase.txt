# Add your test case here for debugging and run go test -run=One.
"select id1 from user where id = (select id2 from user where id2 in (select id3 from user))"
{
  "QueryType": "SELECT",
  "Original": "select id1 from user where id = (select id2 from user where id2 in (select id3 from user))",
  "Instructions": {
    "OperatorType": "Subquery",
    "Variant": "PulloutValue",
    "Inputs": [
      {
        "OperatorType": "Subquery",
        "Variant": "PulloutIn",
        "Inputs": [
          {
            "OperatorType": "Route",
            "Variant": "SelectScatter",
            "Keyspace": {
              "Name": "user",
              "Sharded": true
            },
            "FieldQuery": "select id3 from user where 1 != 1",
            "Query": "select id3 from user",
            "Table": "user"
          },
          {
            "OperatorType": "Route",
            "Variant": "SelectScatter",
            "Keyspace": {
              "Name": "user",
              "Sharded": true
            },
            "FieldQuery": "select id2 from user where 1 != 1",
            "Query": "select id2 from user where :__sq_has_values1 = 1 and id2 in ::__sq1",
            "Table": "user"
          }
        ]
      },
      {
        "OperatorType": "Route",
        "Variant": "SelectEqualUnique",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "FieldQuery": "select id1 from user where 1 != 1",
        "Query": "select id1 from user where id = :__sq2",
        "Table": "user",
        "Values": [
          ":__sq2"
        ],
        "Vindex": "user_index"
      }
    ]
  }
}

